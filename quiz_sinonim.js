const question = [
    {
        question: "Sinonim PARAS", //1
        answers: [
            { text: "Cantik", correct: "0"},
            { text: "Aura", correct: "0"},
            { text: "Aroma", correct: "0"},
            { text: "Wajah", correct: "4"}
        ]
    },
    {
        question: "Sinonim PANORAMA",//2
        answers: [
            { text: "Memandang", correct: "0"},
            { text: "Pemandangan", correct: "4"},
            { text: "Tontonan", correct: "0"},
            { text: "Melihat", correct: "0"}
        ]
    },
    {
        question: "Sinonim BAKA",//3
        answers: [
            { text: "Waktu", correct: "0"},
            { text: "Sebentar", correct: "0"},
            { text: "Kenyataan", correct: "0"},
            { text: "Abadi", correct: "4"}
        ]
    },
    {
        question: "Sinonim KONKRET",//4
        answers: [
            { text: "Nyata", correct: "4"},
            { text: "Tidak Berwujud", correct: "0"},
            { text: "Ilusi", correct: "0"},
            { text: "Maya", correct: "0"}
        ]
    },
    {
        question: "Sinonim KOMPUTASI",//5
        answers: [
            { text: "Pengurangan", correct: "0"},
            { text: "Amputasi", correct: "0"},
            { text: "Perhitungan", correct: "4"},
            { text: "Akuntansi", correct: "0"}
        ]
    },
    {
        question: "Sinonim NEGOSIASI",//6
        answers: [
            { text: "Konferensi", correct: "0"},
            { text: "Kongres", correct: "0"},
            { text: "Damai", correct: "0"},
            { text: "Perundingan", correct: "4"}
        ]
    },
    {
        question: "Sinonim BONUS",//7
        answers: [
            { text: "Bantuan", correct: "0"},
            { text: "Hadiah", correct: "4"},
            { text: "Potongan Harga", correct: "0"},
            { text: "Diskon", correct: "0"}
        ]
    },
    {
        question: "Sinonim EVAPORASI",//8
        answers: [
            { text: "Penghijauan", correct: "0"},
            { text: "Pengembunan", correct: "0"},
            { text: "Pencairan", correct: "0"},
            { text: "Penguapan", correct: "4"}
        ]
    },
    {
        question: "Sinonim UNION",//9
        answers: [
            { text: "Penyatuan", correct: "4"},
            { text: "Bawang", correct: "0"},
            { text: "Pisah", correct: "0"},
            { text: "Negara", correct: "0"}
        ]
    },
    {
        question: "Sinonim SPESIFIK",//10
        answers: [
            { text: "Umum", correct: "0"},
            { text: "Fisik", correct: "0"},
            { text: "Terkenal", correct: "0"},
            { text: "Khusus", correct: "4"}
        ]
    },
    {
        question: "Sinonim KONJUNGSI",//11
        answers: [
            { text: "Kenaikan", correct: "0"},
            { text: "Penghubung", correct: "4"},
            { text: "Penyesuaian", correct: "0"},
            { text: "Pelantikan", correct: "0"}
        ]
    },
    {
        question: "Sinonim ADIKTIF",//12
        answers: [
            { text: "Candu", correct: "4"},
            { text: "Ingin Berhenti", correct: "0"},
            { text: "Maya", correct: "0"},
            { text: "Khayalan", correct: "0"}
        ]
    },
    {
        question: "Sinonim ARTIFISIAL",//13
        answers: [
            { text: "Murni", correct: "0"},
            { text: "Alami", correct: "0"},
            { text: "Buatan", correct: "4"},
            { text: "Campuran", correct: "0"}
        ]
    },
    {
        question: "Sinonim AMBIGUITAS",//14
        answers: [
            { text: "Makna Ganda", correct: "4"},
            { text: "Denotasi", correct: "0"},
            { text: "Makna Lugas", correct: "0"},
            { text: "Kenyataan", correct: "0"}
        ]
    },
    {
        question: "Sinonim JAJAK",//15
        answers: [
            { text: "Pendapat", correct: "0"},
            { text: "Burung", correct: "0"},
            { text: "Setuju", correct: "0"},
            { text: "Telaah", correct: "4"}
        ]
    },
    {
        question: "Sinonim ANONIM",//16
        answers: [
            { text: "Nama Panjang", correct: "0"},
            { text: "Tanpa Nama", correct: "4"},
            { text: "Singkatan", correct: "0"},
            { text: "Nama Kecil", correct: "0"}
        ]
    },
    {
        question: "Sinonim ASA",//17
        answers: [
            { text: "Harapan", correct: "4"},
            { text: "Percaya", correct: "0"},
            { text: "Sedih", correct: "0"},
            { text: "Putus", correct: "0"}
        ]
    },
    {
        question: "Sinonim ENDEMI",//18
        answers: [
            { text: "Wabah", correct: "4"},
            { text: "Bencana", correct: "0"},
            { text: "Wadah", correct: "0"},
            { text: "Realita", correct: "0"}
        ]
    },
    {
        question: "Sinonim VIA",//19
        answers: [
            { text: "Melalui", correct: "4"},
            { text: "Pos", correct: "0"},
            { text: "Internet", correct: "0"},
            { text: "Surat", correct: "0"}
        ]
    },    {
        question: "Sinonim DAUR",//20
        answers: [
            { text: "Daun", correct: "0"},
            { text: "Sampah", correct: "0"},
            { text: "Sirkus", correct: "0"},
            { text: "Siklus", correct: "4"}
        ]
    },
    {
        question: "Sinonim KREASI",//21
        answers: [
            { text: "Ide", correct: "0"},
            { text: "Terbaru", correct: "0"},
            { text: "Ciptaan", correct: "4"},
            { text: "Seni", correct: "0"}
        ]
    },
    {
        question: "Sinonim GALAT",//22
        answers: [
            { text: "Keliru", correct: "4"},
            { text: "Benar", correct: "0"},
            { text: "Hitungan", correct: "0"},
            { text: "Loading", correct: "0"}
        ]
    },
    {
        question: "Sinonim ALGORITMA",//23
        answers: [
            { text: "Alternatif", correct: "0"},
            { text: "Prosedur Pemecahan", correct: "4"},
            { text: "Irama Nada", correct: "0"},
            { text: "Aritmatika", correct: "0"}
        ]
    },
    {
        question: "Sinonim DOMAIN",//24
        answers: [
            { text: "Dominan", correct: "0"},
            { text: "Internet", correct: "0"},
            { text: "Daerah", correct: "4"},
            { text: "Lebih Terlihat", correct: "0"}
        ]
    },
    {
        question: "Sinonim STRATA",//25
        answers: [
            { text: "Tertata", correct: "0"},
            { text: "Berantakan", correct: "0"},
            { text: "Tingkatan", correct: "4"},
            { text: "Setara", correct: "0"}
        ]
    }
];

const questionElement = document.getElementById("question");
const answerButton = document.getElementById("answer-buttons");
const nextButton = document.getElementById("next-btn");

let currentQuestionIndex = 0
let score = 0

function startQuiz(){
    currentQuestionIndex = 0
    score = 0
    nextButton.innerHTML = "Next";
    showQuestion();
}

function showQuestion(){
    resetState();
    let currentQuestion = question[currentQuestionIndex];
    let questionNo = currentQuestionIndex + 1;
    questionElement.innerHTML = questionNo + ". " + currentQuestion.question;
    currentQuestion.answers.forEach(answer => {
        const button = document.createElement("button");
        button.innerHTML = answer.text;
        button.classList.add("btn");
        answerButton.appendChild(button);
        if(answer.correct){
            button.dataset.correct = answer.correct;
        }
        button.addEventListener("click", selectAnswer);
    });
}

function resetState(){
    nextButton.style.display = "none";
    answerButton.innerHTML = "";
}

function selectAnswer(e){
    const selectedBtn = e.target;
    // const isCorrect = selectedBtn.dataset.correct === "true";
    if(selectedBtn.dataset.correct === "4"){
        score += 4;
    } else{
        score += 0;
    }
    Array.from(answerButton.children).forEach(button => {
        if(button.dataset.corrrect === "true"){
            button.classList.add("correct");
        }
        button.disabled = true;
    })
    nextButton.style.display = "block";
}

function showScore(){
    resetState();
    console.log(score)
    questionElement.innerHTML = `Congratulation! You Have Scored ${score}%`;
    questionElement.style.textAlign = "center";
    nextButton.innerHTML = "Try Again";
    nextButton.style.display = "block";
}

function handleNextButton(){
    currentQuestionIndex++;
    if(currentQuestionIndex < question.length){
        showQuestion();
    } else{
        showScore();
    }
}

nextButton.addEventListener("click", ()=>{
    if(currentQuestionIndex < question.length){
        handleNextButton();
    } else{
        startQuiz();
    }
});
startQuiz();